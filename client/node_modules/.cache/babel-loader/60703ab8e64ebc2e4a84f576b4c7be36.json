{"ast":null,"code":"import axios from 'axios';\naxios.create({\n  baseURL: process.env.REACT_APP_BASE_URL,\n  withCredentials: true,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\naxios.interceptors.request.use(config => {\n  console.log(config);\n});\nexport default class Api {\n  constructor(req) {\n    this.req = void 0;\n    this.api = axios;\n\n    this.get = async path => {\n      try {\n        const {\n          id\n        } = this.req;\n\n        switch (path) {\n          case '/home':\n            const user = await this.api.get(path);\n            return user.data;\n\n          case '/login':\n            const response = await this.api.get(path, {\n              params: {\n                id\n              }\n            });\n            return response.data;\n\n          default:\n            break;\n        }\n      } catch (error) {\n        return error.response.data;\n      }\n    };\n\n    this.post = async path => {\n      try {\n        const response = await this.api.post(path, this.req);\n        return response.data;\n      } catch (error) {\n        return error.response.data;\n      }\n    };\n\n    this.req = req;\n  }\n\n}","map":{"version":3,"sources":["/home/inim/Documents/Data/DESA/DOMAS/client/src/api/Api.ts"],"names":["axios","create","baseURL","process","env","REACT_APP_BASE_URL","withCredentials","headers","interceptors","request","use","config","console","log","Api","constructor","req","api","get","path","id","user","data","response","params","error","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAKAA,KAAK,CAACC,MAAN,CAAa;AACTC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,kBADZ;AAETC,EAAAA,eAAe,EAAE,IAFR;AAGTC,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAHA,CAAb;AAQAP,KAAK,CAACQ,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+BC,MAAM,IAAI;AACrCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACH,CAFD;AAKA,eAAe,MAAMG,GAAN,CAAU;AAKrBC,EAAAA,WAAW,CAACC,GAAD,EAAiB;AAAA,SAHpBA,GAGoB;AAAA,SAFpBC,GAEoB,GAFdjB,KAEc;;AAAA,SAI5BkB,GAJ4B,GAItB,MAAOC,IAAP,IAAwB;AAC1B,UAAI;AAEA,cAAM;AAAEC,UAAAA;AAAF,YAAS,KAAKJ,GAApB;;AAEA,gBAAQG,IAAR;AACI,eAAK,OAAL;AACI,kBAAME,IAAI,GAAG,MAAM,KAAKJ,GAAL,CAASC,GAAT,CAAaC,IAAb,CAAnB;AACA,mBAAOE,IAAI,CAACC,IAAZ;;AAEJ,eAAK,QAAL;AACI,kBAAMC,QAAQ,GAAG,MAAM,KAAKN,GAAL,CAASC,GAAT,CAAaC,IAAb,EAAmB;AAAEK,cAAAA,MAAM,EAAE;AAAEJ,gBAAAA;AAAF;AAAV,aAAnB,CAAvB;AACA,mBAAOG,QAAQ,CAACD,IAAhB;;AAEJ;AACI;AAVR;AAaH,OAjBD,CAiBE,OAAOG,KAAP,EAAc;AACZ,eAAOA,KAAK,CAACF,QAAN,CAAeD,IAAtB;AACH;AACJ,KAzB2B;;AAAA,SA2B5BI,IA3B4B,GA2BrB,MAAOP,IAAP,IAAwB;AAC3B,UAAI;AACA,cAAMI,QAAQ,GAAG,MAAM,KAAKN,GAAL,CAASS,IAAT,CAAcP,IAAd,EAAoB,KAAKH,GAAzB,CAAvB;AACA,eAAOO,QAAQ,CAACD,IAAhB;AACH,OAHD,CAGE,OAAOG,KAAP,EAAc;AACZ,eAAOA,KAAK,CAACF,QAAN,CAAeD,IAAtB;AACH;AACJ,KAlC2B;;AACxB,SAAKN,GAAL,GAAWA,GAAX;AACH;;AAPoB","sourcesContent":["import axios from 'axios'\nimport jwtDecode from 'jwt-decode'\nimport { cookies, interceptor } from '../app/functions'\nimport { JWTDecode, Req } from '../interface/Interfaces'\n\naxios.create({\n    baseURL: process.env.REACT_APP_BASE_URL,\n    withCredentials: true,\n    headers: {\n        \"Content-Type\": \"application/json\"   \n    }\n})\n\naxios.interceptors.request.use(config => {\n    console.log(config)\n})\n\n\nexport default class Api {\n    \n    private req: Req\n    private api = axios\n    \n    constructor(req: Req | null){ \n        this.req = req!\n    }\n\n    get = async (path: string) => {\n        try {\n\n            const { id } = this.req\n\n            switch (path) {\n                case '/home':\n                    const user = await this.api.get(path)\n                    return user.data\n\n                case '/login':\n                    const response = await this.api.get(path, { params: { id } })\n                    return response.data\n            \n                default:\n                    break\n            }\n\n        } catch (error) {\n            return error.response.data\n        }\n    }\n    \n    post = async (path: string) => {\n        try {\n            const response = await this.api.post(path, this.req)\n            return response.data\n        } catch (error) {\n            return error.response.data\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}