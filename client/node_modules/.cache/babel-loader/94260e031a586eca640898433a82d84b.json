{"ast":null,"code":"import { axiosInstance } from '../app/functions';\nimport { cookies } from '../app/functions';\nexport default class Api {\n  constructor(req) {\n    this.req = void 0;\n    this.api = axiosInstance;\n\n    this.get = async path => {\n      try {\n        const {\n          id\n        } = this.req;\n        const token = cookies.get('token');\n\n        switch (path) {\n          case '/home':\n            const user = await this.api.get(path, {\n              headers: {\n                authorization: `Bearer ${token}`\n              }\n            });\n            return user.data;\n\n          case '/login':\n            const response = await this.api.get(path, {\n              params: {\n                id\n              }\n            });\n            return response.data;\n\n          default:\n            break;\n        }\n      } catch (error) {\n        return error.response.data;\n      }\n    };\n\n    this.post = async path => {\n      try {\n        const {\n          data\n        } = await this.api.post(path, this.req);\n        return data;\n      } catch (error) {\n        return error.response.data;\n      }\n    };\n\n    this.req = req;\n  }\n\n}","map":{"version":3,"sources":["/home/inim/Documents/Data/DESA/DOMAS/client/src/api/Api.ts"],"names":["axiosInstance","cookies","Api","constructor","req","api","get","path","id","token","user","headers","authorization","data","response","params","error","post"],"mappings":"AAAA,SAASA,aAAT,QAA8B,kBAA9B;AAEA,SAASC,OAAT,QAAqC,kBAArC;AAKA,eAAe,MAAMC,GAAN,CAAU;AAKrBC,EAAAA,WAAW,CAACC,GAAD,EAAW;AAAA,SAHdA,GAGc;AAAA,SAFdC,GAEc,GAFOL,aAEP;;AAAA,SAItBM,GAJsB,GAIhB,MAAOC,IAAP,IAAwB;AAC1B,UAAI;AACA,cAAM;AAAEC,UAAAA;AAAF,YAAS,KAAKJ,GAApB;AACA,cAAMK,KAAK,GAAGR,OAAO,CAACK,GAAR,CAAY,OAAZ,CAAd;;AACA,gBAAQC,IAAR;AACI,eAAK,OAAL;AACI,kBAAMG,IAAmB,GAAG,MAAM,KAAKL,GAAL,CAASC,GAAT,CAAaC,IAAb,EAAmB;AAAEI,cAAAA,OAAO,EAAE;AAAEC,gBAAAA,aAAa,EAAG,UAASH,KAAM;AAAjC;AAAX,aAAnB,CAAlC;AACA,mBAAOC,IAAI,CAACG,IAAZ;;AACJ,eAAK,QAAL;AACI,kBAAMC,QAAuB,GAAG,MAAM,KAAKT,GAAL,CAASC,GAAT,CAAaC,IAAb,EAAmB;AAAEQ,cAAAA,MAAM,EAAE;AAAEP,gBAAAA;AAAF;AAAV,aAAnB,CAAtC;AACA,mBAAOM,QAAQ,CAACD,IAAhB;;AACJ;AACI;AARR;AAUH,OAbD,CAaE,OAAOG,KAAP,EAAc;AACZ,eAAOA,KAAK,CAACF,QAAN,CAAeD,IAAtB;AACH;AACJ,KArBqB;;AAAA,SAuBtBI,IAvBsB,GAuBf,MAAOV,IAAP,IAAwB;AAC3B,UAAI;AACA,cAAM;AAAEM,UAAAA;AAAF,YAA0B,MAAM,KAAKR,GAAL,CAASY,IAAT,CAAcV,IAAd,EAAoB,KAAKH,GAAzB,CAAtC;AACA,eAAOS,IAAP;AACH,OAHD,CAGE,OAAOG,KAAP,EAAc;AACZ,eAAOA,KAAK,CAACF,QAAN,CAAeD,IAAtB;AACH;AACJ,KA9BqB;;AAClB,SAAKT,GAAL,GAAWA,GAAX;AACH;;AAPoB","sourcesContent":["import { axiosInstance } from '../app/functions'\nimport jwtDecode from 'jwt-decode'\nimport { cookies, interceptor } from '../app/functions'\nimport { JWTDecode, Req } from '../interface/Interfaces'\nimport { AxiosInstance, AxiosResponse } from 'axios'\n\n\nexport default class Api {\n    \n    private req: Req\n    private api: AxiosInstance = axiosInstance\n    \n    constructor(req?: Req){ \n        this.req = req!\n    }\n\n    get = async (path: string) => {\n        try {\n            const { id } = this.req\n            const token = cookies.get('token')\n            switch (path) {\n                case '/home':\n                    const user: AxiosResponse = await this.api.get(path, { headers: { authorization: `Bearer ${token}` } })\n                    return user.data\n                case '/login':\n                    const response: AxiosResponse = await this.api.get(path, { params: { id } })\n                    return response.data\n                default:\n                    break\n            }\n        } catch (error) {\n            return error.response.data\n        }\n    }\n    \n    post = async (path: string) => {\n        try {\n            const { data }: AxiosResponse = await this.api.post(path, this.req)\n            return data\n        } catch (error) {\n            return error.response.data\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}